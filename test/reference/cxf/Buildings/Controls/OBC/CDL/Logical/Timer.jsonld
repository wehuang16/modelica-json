{
  "@context": {
    "S231P": "https://data.ashrae.org/S231P#",
    "qudt": "http://qudt.org/schema/qudt#",
    "q": "http://qudt.org/vocab/quantitykind#",
    "unit": "http://qudt.org/vocab/unit#"
  },
  "@graph": [
    {
      "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer",
      "@type": "S231P:ElementaryBlock",
      "S231P:documentation": "info=<html>\n<p>\nIf the Boolean input <code>u</code> is <code>true</code>,\nthe output <code>y</code> is the time that has elapsed since <code>u</code> became <code>true</code>.\nOtherwise, <code>y</code> is <i>0</i>.\nIf the output <code>y</code> becomes greater than the threshold time <code>t</code>,\nthe output <code>passed</code> is <code>true</code>.\nOtherwise it is <code>false</code>.\n</p>\n<p>\nIn the limiting case where the timer value reaches the threshold <code>t</code>\nand the input <code>u</code> becomes <code>false</code> simultaneously,\nthe output <code>passed</code> remains <code>false</code>.\n</p>\n</html>,revisions=<html>\n<ul>\n<li>\nNovember 12, 2020, by Michael Wetter:<br/>\nReformulated to remove dependency to <code>Modelica.Units.SI</code>.<br/>\nThis is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/2243\\>Buildings, issue 2243</a>.\n</li>\n<li>\nAugust 28, 2020, by Michael Wetter:<br/>\nRevised implementation to correctly deal with non-zero simulation start time,\nand to avoid state events.<br/>\nThis is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/2101\\>Buildings, issue 2101</a>.\n</li>\n<li>\nAugust 26, 2020, by Jianjun Hu:<br/>\nRemoved <code>reset</code> boolean input and added output <code>passed</code>\nto show if the time becomes greater than threshold time.<br/>\nThis is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/2101\\>Buildings, issue 2101</a>.\n</li>\n<li>\nJuly 31, 2020, by Jianjun Hu:<br/>\nFixed the reset input. This is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/2056\\>Buildings, issue 2056</a>.\n</li>\n<li>\nNovember 8, 2019, by Michael Wetter:<br/>\nRevised implementation. This is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/1221\\>Buildings, issue 1221</a>.\n</li>\n<li>\nJuly 23, 2018, by Jianjun Hu:<br/>\nAdded conditional boolean input for cumulative time measuring. This is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/1221\\>Buildings, issue 1221</a>.\n</li>\n<li>\nJuly 18, 2018, by Jianjun Hu:<br/>\nUpdated implementation to output accumulated true input time.  This is for\n<a href=\\https://github.com/lbl-srg/modelica-buildings/issues/1212\\>Buildings, issue 1212</a>.\n</li>\n<li>\nJanuary 3, 2017, by Michael Wetter:<br/>\nFirst implementation, based on the implementation of the\nModelica Standard Library.\n</li>\n</ul>\n</html>",
      "S231P:hasInput": {
        "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.u"
      },
      "S231P:hasOutput": [
        {
          "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.passed"
        },
        {
          "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.y"
        }
      ],
      "S231P:hasParameter": {
        "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.t"
      },
      "S231P:icon": "coordinateSystem(extent={{-100,-100},{100,100}},preserveAspectRatio=true),graphics={Rectangle(extent={{-100,100},{100,-100}},borderPattern=BorderPattern.Raised,fillColor={210,210,210},fillPattern=FillPattern.Solid),Line(color={192,192,192},points={{-66,-60},{82,-60}}),Line(color={192,192,192},points={{-58,68},{-58,-80}}),Polygon(points={{90,-60},{68,-52},{68,-68},{90,-60}},lineColor={192,192,192},fillColor={192,192,192},fillPattern=FillPattern.Solid),Polygon(points={{-58,90},{-66,68},{-50,68},{-58,90}},lineColor={192,192,192},fillColor={192,192,192},fillPattern=FillPattern.Solid),Line(color={255,0,255},points={{-56,-60},{-38,-60},{-38,-16},{40,-16},{40,-60},{68,-60}}),Line(color={0,0,127},points={{-58,0},{-40,0},{40,58},{40,0},{68,0}}),Text(textString=\"%name\",textColor={0,0,255},extent={{-150,150},{150,110}}),Text(textString=,textString=,textColor={0,0,0},extent={{-64,62},{62,92}}),Ellipse(extent={{-83,7},{-69,-7}},lineColor={235,235,235},fillColor={235,235,235},fillPattern=FillPattern.Solid),Ellipse(extent={{71,-73},{85,-87}},lineColor={235,235,235},fillColor={235,235,235},fillPattern=FillPattern.Solid),Text(textString=DynamicSelect(\"\",String(y,textColor={0,0,0},extent={{226,60},{106,10}})}",
      "S231P:label": "Timer"
    },
    {
      "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.passed",
      "@type": "S231P:BooleanOutput",
      "S231P:accessSpecifier": "public",
      "S231P:description": "Output with true if the elapsed time is greater than threshold",
      "S231P:graphics": "Placement(transformation(extent={{100,-100},{140,-60}})),iconTransformation(extent={{100,-100},{140,-60}})))",
      "S231P:label": "passed"
    },
    {
      "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.t",
      "@type": "S231P:Parameter",
      "qudt:hasQuantityKind": {
        "@id": "q:Time"
      },
      "qudt:hasUnit": {
        "@id": "unit:SEC"
      },
      "S231P:accessSpecifier": "public",
      "S231P:description": "Threshold time for comparison",
      "S231P:isOfDataType": {
        "@id": "S231P:Real"
      },
      "S231P:label": "t",
      "S231P:value": 0
    },
    {
      "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.u",
      "@type": "S231P:BooleanInput",
      "S231P:accessSpecifier": "public",
      "S231P:description": "Input that switches timer on if true, and off if false",
      "S231P:graphics": "Placement(transformation(extent={{-140,-20},{-100,20}})))",
      "S231P:label": "u"
    },
    {
      "@id": "https://data.ashrae.org/S231P#Buildings.Controls.OBC.CDL.Logical.Timer.y",
      "@type": "S231P:RealOutput",
      "qudt:hasQuantityKind": {
        "@id": "q:Time"
      },
      "qudt:hasUnit": {
        "@id": "unit:SEC"
      },
      "S231P:accessSpecifier": "public",
      "S231P:description": "Elapsed time",
      "S231P:graphics": "Placement(transformation(extent={{100,-20},{140,20}})),iconTransformation(extent={{100,-20},{140,20}})))",
      "S231P:label": "y"
    }
  ]
}